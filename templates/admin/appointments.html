{% extends "admin/base.html" %}

{% block page_title %}Appointments{% endblock %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='admin/css/appointments.css') }}">
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='admin/js/appointments.js') }}"></script>
{% endblock %}

{% block content %}

<!-- ================= HEADER ================= -->
<div class="appointments-header container-fluid mb-4">
  <div class="row align-items-center">

    <div class="col-md-6">
      <h2 id="currentMonthLabel" class="mb-1">January 2026</h2>

      <div class="legend d-flex gap-3">
        <span><span class="dot pending"></span> Pending</span>
        <span><span class="dot confirmed"></span> Confirmed</span>
        <span><span class="dot completed"></span> Completed</span>
      </div>

      <div class="mt-2">
        <button class="btn btn-light btn-sm" id="prevMonth">‹</button>
        <button class="btn btn-outline-primary btn-sm" id="goToday">Today</button>
        <button class="btn btn-light btn-sm" id="nextMonth">›</button>
      </div>
    </div>

  </div>

  <!--SEARCH + FILTER -->
    <div class="modal-filters">
      <input
        type="text"
        id="modalSearch"
        class="form-control"
        placeholder="Search client name"
      />

      <select id="modalStatus" class="form-select">
        <option value="">All Status</option>
        <option value="PENDING">Pending</option>
        <option value="CONFIRMED">Confirmed</option>
        <option value="COMPLETED">Completed</option>
        <option value="CANCELLED">Cancelled</option>
      </select>
    </div>

</div>

<!-- ================= SUMMARY ================= -->
<div class="summary-wrapper mb-4">
  <div class="summary-card">
    <p>Today</p>
    <h3 id="todayCount">—</h3>
    <span>Appointments</span>
  </div>

  <div class="summary-card">
    <p>This Week</p>
    <h3 id="weekCount">—</h3>
    <span>Appointments</span>
  </div>

  <div class="summary-card">
    <p>This Month</p>
    <h3 id="monthCount">—</h3>
    <span>Appointments</span>
  </div>
</div>

<!-- ================= CALENDAR ================= -->
<div class="calendar-container">

  <div class="calendar-header">
    <div>Mon</div><div>Tue</div><div>Wed</div>
    <div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
  </div>

  <div class="calendar-grid" id="calendarGrid"></div>

</div>

<!-- ================= DAY MODAL ================= -->
<div class="day-modal" id="dayModal">
  <div class="day-modal-content">

    <div class="day-modal-header">
      <h5 id="modalDateTitle">Appointments</h5>
      <button id="closeDayModal">&times;</button>
    </div>

    <div class="day-modal-body" id="modalAppointments">
      <!-- JS injects appointments -->
    </div>

  </div>
</div>

{% endblock %}
